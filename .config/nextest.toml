[profile.ci]
# Retry individual failed tests instead of re-running entire workspace.
# Real-network tests are timing-sensitive and occasionally fail under CI
# resource pressure — per-test retries avoid the 10-15 min penalty of
# re-running all tests.
retries = 2
# Don't stop on first failure — run all tests to surface multiple issues.
fail-fast = false
# Terminate tests that hang (2 periods of 120s = 4 min max per test).
slow-timeout = { period = "120s", terminate-after = 2 }

[profile.nightly]
# Nightly tests run longer by design; no retries since failures need investigation.
retries = 0
fail-fast = false
# Long-running simulation takes ~2.5 min wall clock (1h virtual @ 25x Turmoil
# acceleration). Allow 10 min per period with 2 periods = 20 min hard cap.
slow-timeout = { period = "600s", terminate-after = 2 }
